{% extends './layout.html' %}

{% block head %}
<title>Rozvrh</title>
<style>
    li {
        font-size: large;
    }
    .bk-timetable-selects {
    margin-left: 1%;
    }

    .bk-timetable-selects .ico32-ovladani-smerovkaDolu:before {
        content: "\e946";
        position: absolute;
        right: 2px;
        top: -2px;
        font-size: 32px;
        pointer-events: none;
    }

    .bk-timetable-selects > .custom-select {
        width: inherit;
    }

    .bk-timetable-selects select {
        height: 28px;
        border-color: #9b9b9b;
        background: #F8F8F8;
        padding-right: 32px;
        font-family: Source Sans Pro !important;
    }
    .bk-timetable-label {
    font-size: 13px;
    color: #6F6F6F;
    text-align: left;
    padding-right: 6px;
    line-height: 2;
    font-family: Source Sans Pro !important;
}
    .FormDiv {
        margin-bottom: 5px;
    }

</style>
<script>
    if (!localStorage.getItem('PList')){
        localStorage.setItem('PList', 'f')
    }


    document.addEventListener("DOMContentLoaded", () => {
        var PList = localStorage.getItem('PList')
        if (PList.length > 1) {
            PList = JSON.parse(PList)
            document.querySelector('#id_trida').value = PList.trida;
            document.querySelector('#id_aj').value = PList.aj;
            document.querySelector('#id_jazyk2').value = PList.jazyk2;
            document.querySelector('#id_Sem1').value = PList.Sem1;
            document.querySelector('#id_Sem2').value = PList.Sem2;
            document.querySelector('#id_Sem3').value = PList.Sem3;
            document.querySelector('#id_skupina').value = PList.skupina;
            document.querySelector('#id_gender').value = PList.gender;
        }


        document.querySelector('#form').onsubmit = () => {
            const trida = document.querySelector('#id_trida').value;
            const aj = document.querySelector('#id_aj').value;
            const jazyk2 = document.querySelector('#id_jazyk2').value;
            const Sem1 = document.querySelector('#id_Sem1').value;
            const Sem2 = document.querySelector('#id_Sem2').value;
            const Sem3 = document.querySelector('#id_Sem3').value;
            const skupina = document.querySelector('#id_skupina').value;
            const gender = document.querySelector('#id_gender').value;
            PList = {'trida': trida, 'aj': aj, 'jazyk2': jazyk2, 'Sem1': Sem1, 'Sem2': Sem2, 'Sem3': Sem3, 'skupina': skupina, 'gender': gender}
            PList = JSON.stringify(PList)
            localStorage.setItem('PList', PList)
        };
    });
</script>
{% endblock %}

{% block body %}
<h1>Rozvrh z bakalářů do google kalendáře</h1>
<form action="{% url 'rozvrh:index' %}" method="POST" id="form" class='bk-timetable-selects'>
    {% csrf_token %}
    <div class='FormDiv'>
        <span class='bk-timetable-label'>Třída</span>
    {{ form.trida }}
    </div>
    <div class='FormDiv'>
        <span class='bk-timetable-label'>Angličtina</span>
        {{ form.aj }}
    </div>
    <div class='FormDiv'>
       <span class='bk-timetable-label'>Cizí jazyk</span>
        {{ form.jazyk2 }}
    </div>
    <div class='FormDiv'>
        <span class='bk-timetable-label'>První seminář</span>
        {{ form.Sem1 }}
    </div>
    <div class='FormDiv'>  
        <span class='bk-timetable-label'>Druhý seminář</span>
        {{ form.Sem2 }}
    </div>
    <div class='FormDiv'>
        <span class='bk-timetable-label'>Třetí seminář</span>
        {{ form.Sem3 }}
    </div>
    <div class='FormDiv'>
        <span class='bk-timetable-label'>Skupina</span>
        {{ form.skupina }}
    </div>
    <div class='FormDiv'>
        <span class='bk-timetable-label'>Pohlaví</span>
        {{ form.gender }}
    </div>
    {% if form %}
    <input type="submit">
    {% endif %}
</form>
<h3>{{ worked }}</h3>

{% endblock %}

